    
<!DOCTYPE html>
<html>
    <head>
        <link href='http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT:regular,italic' rel='stylesheet' type='text/css' />
        <link rel="profile" href="http://microformats.org/profile/hcard" />
        <meta charset="utf-8">

        <title>learn vim / yupbank</title>

        
            <link href="http://feeds2.feedburner.com/stevelosh"
                  rel="alternate" title="yupbank"
                  type="application/atom+xml" />
        

        
            <link rel="stylesheet" href="/media/css/aal.css"      type="text/css" media="screen" charset="utf-8" />
            <link rel="stylesheet" href="/media/css/sjl.css"      type="text/css" media="screen" charset="utf-8" />
            <link rel="stylesheet" href="/media/css/print.css"    type="text/css" media="print" charset="utf-8" />
            
    <link rel="stylesheet"
          href="/media/css/pygments-monokai-light.css"
          type="text/css" media="screen" charset="utf-8" />

        

        
            <script data-cfasync="false" src="/media/js/jquery.js" type="text/javascript"></script>
            <script data-cfasync="false" src="/media/js/jquery.timeago.js" type="text/javascript"></script>
            <script data-cfasync="false" src="/media/js/sjl.js" type="text/javascript"></script>
            <script data-cfasync="false" src="/media/js/print.js" type="text/javascript"></script>

            <script data-cfasync="false" type="text/javascript">
                /* <![CDATA[ */
                (function() {
                var s = document.createElement('script');
                var t = document.getElementsByTagName('script')[0];

                s.type = 'text/javascript';
                s.async = true;
                s.src = '//api.flattr.com/js/0.6/load.js?mode=auto';

                t.parentNode.insertBefore(s, t);
                })();
                /* ]]> */
            </script>

            
        

        <link rel="openid.server" href="http://www.myopenid.com/server" />
        <link rel="openid.delegate" href="http://yupbank.myopenid.com/" />

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-15328874-2']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>

    </head>

    <body>
        <div class="wrap">
            <div class="top group">
                <header>
                    <a href="/">yupbank</a>
                </header>

                <nav>
                    <a href="/blog/">Blog</a>
                    <span class="sep">-</span>
                    <a href="/projects">Projects</a>
                    <span class="sep">-</span>
                    <a href="/about/">About</a>
                    <span class="sep">-</span>
                    <a href="http://feeds.feedburner.com/feedburner/lLFV">Feed</a>
                </nav>
            </div>

            <div class="hr">&nbsp;</div>

            <div class="content">
                
                    
                        
    <div id="leaf-title">
        <h1><a href="/blog/2013/03/learn-vim/">learn&nbsp;vim</a></h1>
    </div>


    <div id="leaf-stats" class="group">
      
        <p>
            Posted
            <span class="timeago"
                  title="2013-03-30T14:00:00-0400">
            </span>
            on March 30, 2013.
        </p>
    </div>

    <div id="leaf-content" class="">
        
            <!-- Hyde::Article::Begin -->
                
                    <div class="codehilite"><pre><span class="err">##死命学习</span><span class="nx">vimscript</span><span class="err">##</span>
<span class="err">##声明，这个是个人理解学习写</span><span class="nx">vim</span><span class="err">脚本，纯粹的学习，不带玩的。下面应该会学习</span><span class="nx">js</span><span class="o">+</span><span class="nx">css</span><span class="err">，</span><span class="nx">ios</span><span class="err">，</span> <span class="nb">java</span>
<span class="err">##目前还有雅思考试，更新于今天。</span>

<span class="err">###</span> <span class="nx">chapter01</span>
  <span class="nx">echo</span> <span class="err">和</span> <span class="nx">echom</span><span class="err">，</span> <span class="nx">echom</span><span class="err">会缓存</span>

<span class="err">###</span> <span class="nx">chapter02</span>
  <span class="p">:</span><span class="nb">set</span> <span class="err">用法</span>

<span class="err">##</span><span class="vi">#chapter03</span>
  <span class="p">:</span><span class="kt">map</span> <span class="err">用法</span>

<span class="err">###</span> <span class="nx">chapter04</span>
  <span class="p">:</span><span class="nx">imap</span>
  <span class="p">:</span><span class="nx">nmap</span>
  <span class="p">:</span><span class="nx">vmap</span>
  <span class="err">三种模式下的</span><span class="kt">map</span>

<span class="err">##</span><span class="vi">#chapter05</span>
  <span class="p">:</span><span class="nx">nunmap</span>
  <span class="p">:</span><span class="nx">iunmap</span>
  <span class="p">:</span><span class="nx">vunmap</span>
  <span class="err">三种</span><span class="nx">unmap</span>

  <span class="p">:</span><span class="nx">nnoremap</span>
  <span class="err">非循环</span><span class="kt">map</span>

<span class="err">##</span><span class="vi">#chapter06</span>

  <span class="p">:</span><span class="k">let</span> <span class="n">mapleader</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span>
  <span class="err">设置老板键</span>
  <span class="p">:</span><span class="nx">nnoremap</span> <span class="o">&lt;</span><span class="nx">leader</span><span class="o">&gt;</span><span class="nb">d</span> <span class="nx">dd</span>
  <span class="err">使用老板键</span>

  <span class="p">:</span><span class="k">let</span> <span class="n">maplocalleader</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
  <span class="err">设置小老板键</span>

<span class="err">##</span><span class="vi">#chapter07</span>

  <span class="p">:</span><span class="nx">nnoremap</span> <span class="o">&lt;</span><span class="nx">leader</span><span class="o">&gt;</span><span class="nx">ev</span> <span class="p">:</span><span class="nx">vsplit</span> <span class="nv">$<span class="caps"><span class="caps">MYVIMRC</span></span></span><span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span>
  <span class="err">一件分屏编辑配置文件，使用了老板键哦，</span> <span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span> <span class="err">是真的</span><span class="nx">cr</span><span class="err">，不是</span><span class="nx">ctrl</span><span class="o">+</span><span class="nx">v</span>

  <span class="nx"><span class="caps"><span class="caps">ZZ</span></span></span>
  <span class="err">大写</span><span class="nx">zz</span><span class="err">，一键关闭分的第二屏，自带保存</span>

  <span class="p">:</span><span class="nx">nnoremap</span> <span class="o">&lt;</span><span class="nx">leader</span><span class="o">&gt;</span><span class="nx">sv</span> <span class="p">:</span><span class="nb">source</span> <span class="nv">$<span class="caps"><span class="caps">MYVIMRC</span></span></span><span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span>
  <span class="err">一键激活配置文件</span>

<span class="err">##</span><span class="vi">#chapter08</span>

  <span class="p">:</span><span class="nx">iabbrev</span> <span class="nx">adn</span> <span class="ow">and</span>

  <span class="err">自动纠错命令，在编辑模式下纠正</span><span class="nx">adn</span><span class="err">为</span><span class="ow">and</span>

  <span class="p">:</span><span class="nx">iabbrev</span> <span class="p">@@</span>    <span class="nx">steve</span><span class="p">@</span><span class="nx">yu.com</span>

  <span class="err">设置私人邮箱版权等</span>

<span class="err">###</span><span class="vi">#chapter09</span>
  <span class="p">:</span><span class="nx">nnoremap</span> <span class="o">&lt;</span><span class="nx">leader</span><span class="o">&gt;</span><span class="s2">&quot; viw&lt;esc&gt;a&quot;</span><span class="o">&lt;</span><span class="nx">esc</span><span class="o">&gt;</span><span class="nx">hbi</span><span class="s2">&quot;&lt;esc&gt;lel</span>

<span class="s2">  瞬间给左右加上双引号!</span>

<span class="s2">###chapter10</span>
<span class="s2">  :inoremap &lt;esc&gt; &lt;nop&gt;</span>
<span class="s2">  关闭你的esc</span>

<span class="s2">###chapter11</span>

<span class="s2">  :setlocal 只给当前编辑有效果</span>

<span class="s2">  :nnoremap &lt;buffer&gt; Q add 这个效果有点不一样，对每一个buffer产生，对vssplit出来的新窗口等拥有神奇的效果</span>

<span class="s2">###chapter12</span>

<span class="s2">  :autocmd BufWritePre/BufNewFile/etc */*.html/*.js :write/:normal gg=G</span>
<span class="s2">  :autocmd FileType python nnoremap &lt;buffer&gt; &lt;localleader&gt;c I#</span>

<span class="s2">  autocmd可以监听各种事件，比如写文件，创建新文件，比如当前是python文件，然后执行下面的操作，保存？设置gg=G？设置当前vim老板键+c 对句子加注释 #?</span>


<span class="s2">###chapter13</span>
<span class="s2">  :autocmd FileType python     :iabbrev &lt;buffer&gt; iff if:&lt;left&gt;</span>

<span class="s2">  :autocmd FileType javascript :iabbrev &lt;buffer&gt; iff if ()&lt;left&gt;</span>

<span class="s2">  自动修改不同filetype的iff为对应语言的 if正确</span>


<span class="s2">###chapter14</span>

<span class="s2">  :autocmd BufWrite * :sleep 200m</span>
<span class="s2">  傻逼作者，睡200分钟。。。</span>

<span class="s2">  :augroup testgroup</span>
<span class="s2">  :    autocmd BufWrite * :echom &quot;</span><span class="nb">Foo</span><span class="s2">&quot;</span>
<span class="s2">  :    autocmd BufWrite * :echom &quot;</span><span class="nx">Bar</span><span class="s2">&quot;</span>
<span class="s2">  :augroup <span class="caps"><span class="caps">END</span></span></span>

<span class="s2">  据作者说是会产生 输出 Foo和bar</span>

<span class="s2">  :augroup uncompress</span>
<span class="s2">  :  au!</span>
<span class="s2">  :  au BufEnter *.gz %!gunzip</span>
<span class="s2">  :augroup <span class="caps"><span class="caps">END</span></span></span>
<span class="s2">  加 au！ 是为了，防止这个autocommand被执行两次，比如source一下vimrc，还会再被执行的时候，不会再autocommand一下</span>

<span class="s2">###chapter15</span>

<span class="s2">  :onoremap p i(</span>

<span class="s2">  这个其实是把i( 加上自定义的名字p</span>
<span class="s2">  加进去vimrc后， dp = di(  了呢。</span>

<span class="s2">  :onoremap il( :&lt;c-u&gt;normal! F)vi(&lt;cr&gt;</span>
<span class="s2">  :onoremap in( :&lt;c-u&gt;normal! f(vi(&lt;cr&gt;</span>

<span class="s2">  这些厉害的语句大概是在说，cin(/cil( 命令可以删除括号内或者其他什么的吧。。太厉害，先不纠结了</span>
</pre></div>


<h3 id="chapter16">chapter16</h3>
<div class="codehilite"><pre>  <span class="p">:</span><span class="nx">onoremap</span> <span class="nx">ih</span> <span class="p">:</span><span class="o">&lt;</span><span class="nx">c</span><span class="na">-u</span><span class="o">&gt;</span><span class="nb">execute</span> <span class="s2">&quot;normal! ?^==</span><span class="se">\\</span><span class="s2">+$</span><span class="se">\r</span><span class="s2">:nohlsearch</span><span class="se">\r</span><span class="s2">kvg_&quot;</span><span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span>

  <span class="err">这个就厉害了，</span> <span class="nx">ih</span><span class="err">是映射</span>

  <span class="p">:</span><span class="nb">execute</span> <span class="s2">&quot;normal! ?^==</span><span class="se">\\</span><span class="s2">+$</span><span class="se">\r</span><span class="s2">:nohlsearch</span><span class="se">\r</span><span class="s2">kvg_&quot;</span><span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span>
  <span class="err">这个就厉害了</span>
  <span class="nx">normal</span><span class="o">!</span> <span class="err">执行在</span><span class="nx">normal</span><span class="err">模式下命令，但是有一个问题就是，不认识</span> <span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span><span class="err">这样的</span><span class="nx">..</span>
  <span class="err">所以要</span><span class="nx">excute.</span>
  <span class="o">?</span><span class="err">搜索，</span> <span class="p">^</span><span class="o">==\\+</span><span class="err">$</span><span class="o">\</span><span class="nb">r</span> <span class="err">匹配两个以上</span><span class="o">==</span>
  <span class="p">:</span><span class="nx">nohlsearch</span><span class="o">\</span><span class="nb">r</span> <span class="err">取消搜索的高亮</span>
  <span class="nx">kvg_</span> <span class="err">向上一行选择到尾巴</span>
</pre></div>


<h3 id="chapter17">chapter17</h3>
<div class="codehilite"><pre>  <span class="o">:</span><span class="n">set</span> <span class="n">statusline</span><span class="o">=%</span><span class="n">f</span>
  <span class="err">设置下面的状态栏：</span><span class="o">%</span><span class="n">f</span> <span class="err">是文件路径</span>

  <span class="o">:</span><span class="n">set</span> <span class="n">statusline</span><span class="o">+=</span><span class="err">\</span> <span class="o">-</span><span class="err">\</span>      
  <span class="err">状态栏还可以叠加，比如后面加</span> <span class="err">空格</span> <span class="o">-</span> <span class="err">空格</span>

  <span class="o">%</span><span class="n">y</span> <span class="err">表示文件类型</span>
  <span class="o">%</span><span class="n">l</span> <span class="err">表示当前行数</span>
  <span class="o">%</span><span class="n">L</span> <span class="err">表示总行数</span>
  <span class="o">%</span><span class="err">数字</span>  <span class="err">表示左边填充几个字符的空格</span>
  <span class="o">%-</span><span class="err">数字</span>  <span class="err">表示在右边填充几个字符</span>
  <span class="o">%</span><span class="mi">0</span><span class="err">数字</span>  <span class="err">将会用</span><span class="mi">0</span><span class="err">去填充空格</span>
  <span class="o">%</span><span class="n">F</span> <span class="err">表示全路径</span>

  <span class="err">###</span><span class="n">chapter18</span>

  <span class="s">&quot; Vimscript file settings ----------------------</span>

  <span class="o">:::</span><span class="n">vimscript</span>
  <span class="p">{{{</span>
  <span class="n">augroup</span> <span class="n">filetype_vim</span>
      <span class="n">autocmd</span><span class="o">!</span>
      <span class="n">autocmd</span> <span class="n">FileType</span> <span class="n">vim</span> <span class="n">setlocal</span> <span class="n">foldmethod</span><span class="o">=</span><span class="n">marker</span>
  <span class="n">augroup</span> <span class="n"><span class="caps"><span class="caps">END</span></span></span>
   <span class="p">}}}</span>


  <span class="err">首先</span> <span class="n">augroup</span><span class="err">是给设定语句分</span><span class="n">group</span><span class="err">，</span> <span class="err">然后，</span> <span class="n">foldmethod</span><span class="err">就会把</span> <span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="err">到</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span><span class="err">自动折叠了，此时</span><span class="n">za</span><span class="err">键可以打开和关闭她们</span>

  <span class="o">:</span><span class="n">setlocal</span> <span class="n">wrap</span>  <span class="o">=</span> <span class="o">:</span><span class="n">setl</span> <span class="n">wrap</span>

  <span class="err">最重要</span> <span class="o">-&gt;</span> <span class="o">:</span><span class="n">help</span> <span class="n">foldlevelstart</span>
</pre></div>


<h3 id="chapter19">chapter19</h3>
<div class="codehilite"><pre>  <span class="o">:</span><span class="n">let</span> <span class="n">foo</span> <span class="o">=</span> <span class="s">&quot;bar&quot;</span>
  <span class="o">:</span><span class="n">echo</span> <span class="n">foo</span>    
  <span class="err">将会输出</span><span class="n">bar</span><span class="err">，这个叫设置变量</span>

  <span class="o">:</span><span class="n">set</span> <span class="n">textwidth</span><span class="o">=</span><span class="mi">80</span>
  <span class="o">:</span><span class="n">echo</span> <span class="o">&amp;</span><span class="n">textwidth</span>
  <span class="err">首先</span><span class="n">textwidth</span><span class="err">会变成</span><span class="mi">80</span><span class="err">，然后输出</span><span class="mf">80.</span> <span class="err">基本上</span><span class="o">&amp;</span><span class="err">就是取设定的值的意思</span>


  <span class="o">:</span><span class="n">let</span> <span class="o">&amp;</span><span class="n">textwidth</span> <span class="o">=</span> <span class="mi">100</span>
  <span class="o">:</span><span class="n">set</span> <span class="n">textwidth</span><span class="o">?</span>
  <span class="err">首先</span><span class="n">textwidth</span><span class="err">会变成</span><span class="mi">100</span><span class="err">，</span> <span class="err">然后下句会输出</span><span class="s">&quot;textwidth=100&quot;</span><span class="err">，</span> <span class="err">因为加了？</span>


  <span class="o">:</span><span class="n">let</span> <span class="o">&amp;</span><span class="n">l</span><span class="o">:</span><span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="err">设定了局部的行号出现，</span><span class="o">=</span><span class="mi">0</span><span class="err">就是不出现。</span> <span class="o">&amp;</span><span class="n">l</span><span class="err">为</span><span class="n">local</span><span class="err">的意思</span>

  <span class="o">:</span><span class="n">let</span> <span class="err">@</span><span class="n">a</span> <span class="o">=</span> <span class="s">&quot;hello!&quot;</span>
  <span class="o">:</span><span class="n">echo</span> <span class="err">@</span><span class="n">a</span>
  <span class="n">pa</span>
  <span class="err">先输出</span> <span class="n">hello</span><span class="err">，</span> <span class="err">@为寄存器的意思，</span> <span class="err">@</span><span class="n">a</span><span class="err">就是寄存一个</span><span class="n">a</span><span class="err">的变量，所以</span><span class="n">pa</span><span class="err">将会把</span><span class="n">hello</span><span class="err">粘贴到</span><span class="n">p</span><span class="err">那个地方</span>

  <span class="o">:</span><span class="n">echo</span> <span class="s">@&quot;</span>
  <span class="err">就会把刚刚</span><span class="n">y</span><span class="err">复制的东西，打印出来</span> <span class="s">&quot; 是未命名寄存器，就是刚刚y复制的内容咯</span>

  <span class="o">:</span><span class="n">echo</span> <span class="err">@</span><span class="o">/</span>
  <span class="err">就会把刚刚</span><span class="n">search</span><span class="err">的</span><span class="n">pattern</span><span class="err">打印出来</span>

  <span class="o">:</span><span class="n">help</span> <span class="n">registers</span>
  <span class="err">这个最关键</span>
</pre></div>


<h3 id="chapter20">chapter20</h3>
                
            <!-- Hyde::Article::End -->
          
    </div>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'yupbank'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
   <!-- <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
   <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
   --> 

                    
                
            </div>

            <div class="hrb">&nbsp;</div>

            <footer>
                <p>
                    I'm also on
                    <a href="https://bitbucket.org/yupbank/">Bitbucket</a>,
                    <a href="https://github.com/yupbank/">GitHub</a>,
                    <a href="https://twitter.com/badmotherfuck/">Twitter</a>,
                </p>

                This Blog is Generated by <a href="http://ringce.com/hyde" title="Generated by">hyde</a> and templated based on <a href="http://stevelosh.com" title="template based on">steve losh</a>
            </footer>
        </div>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-41135823-1', 'yupbank.github.io');
          ga('send', 'pageview');

        </script>
    </body>
</html>
